<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1#0">
  <title>fire</title>
  <style>
    #moveAll{
      position: absolute;   /* ç»å¯¹å®šä½è„±ç¦»æ–‡æ¡£æµ*/
      left: 100px;/* ç›¸å¯¹äºè§†å£çš„åˆå§‹ä½ç½®*/
      top: 100px;
    }
    #fire_one,#fire_two,#fire_tree{/* å…¨éƒ¨éƒ½æ·»åŠ æ‰èƒ½å®šä½ */
      position: absolute;/*éœ€è¦ç›¸å¯¹äºå®¹å™¨divå®šä½è€Œä¸æ˜¯è§†å£*/
      border-radius: 99999px;
    }
    #fire_one{
      width: 100px;
      height: 100px;
      background-color: red;
    }
    #fire_two{
      width: 100px;
      height: 100px;
      background-color: red;
    }
    #fire_tree{
      width: 100px;
      height: 100px;
      background-color: red;
    }
  </style>
</head>
<body>
  <div id="moveAll">
    <div id="fire_one"></div>
    <div id="fire_two"></div>
    <div id="fire_tree"></div>
  </div>  



  <script>
window.onload = function(){//é¡µé¢åŠ è½½å®Œæˆåçš„ä»£ç 
  var diff = document.getElementById("moveAll")
  //åç§»é‡
  var diffX,diffY
  //æŒ‰ä¸‹
  diff.addEventListener('mousedown',event =>{

    //event.pageæ˜¯ç›¸å¯¹äºæ•´ä¸ªç•Œé¢çš„X\Yä½ç½®
    //offsetæ˜¯å…ƒç´ çš„å·¦ä¸Šè§’ç›¸å¯¹äºå…¶åŒ…å«å—(è§†å£æˆ–è€…å·²å®šä½çš„ç¥–å…ˆå…ƒç´ çš„X\Yä½ç½®)
    diffX = event.pageX - diff.offsetLeft //è®¡ç®—è¿™ä¸ªåç§»é‡æ˜¯ä¸ºäº†è®©é¼ æ ‡èƒ½è½åœ¨å…ƒç´ çš„æŸä¸ªä½ç½®,è€Œä¸æ˜¯åªåœ¨å·¦ä¸Šè§’
    diffY = event.pageY - diff.offsetTop
      
      //æ‹–æ‹½
      document.onmousemove = function(event) {//è¦æ˜¯ç»‘åœ¨diffå°±å¿…é¡»åœ¨divä¸Šæ‰å¯ä»¥
          //ä½¿å¾—å…ƒç´ å·¦ä¸Šè§’è·Ÿéšé¼ æ ‡æŒ‡é’ˆç§»åŠ¨å¹¶ä¿æŒåç§»é‡
          diff.style.left = event.pageX - diffX + 'px'
          diff.style.top = event.pageY - diffY + 'px'
        }
    
        //é¼ æ ‡æ‹¿èµ·,= null çš„æ–¹å¼åªæœ‰onæ‰å¯ä»¥
        document.onmouseup = function() {//è¦æ˜¯ç»‘åœ¨diffå°±å¿…é¡»åœ¨divä¸Šæ‰å¯ä»¥
          document.onmousemove = null;
          document.onmouseup = null;
        };  
        event.preventDefault();//ç¦ç”¨äº‹ä»¶

  })

};
  



    var fire_one = document.getElementById("fire_one")
    var fire_two = document.getElementById("fire_two")
    var fire_tree = document.getElementById("fire_tree")

    requestAnimationFrame(function animate(time) {//time?
      var fire1 = Date.now() / 1000//è½¬é€Ÿ?ä¸èƒ½å«è½¬é€Ÿ?
      var fire2 = Date.now() / 1000
      var fire3 = Date.now() / 1000

      fire_one.style.left = Math.sin(fire1) * 200 + 'px'
      fire_one.style.top = Math.cos(fire1) * 200 + 'px'
      //ç­‰è¾¹ä¸‰è§’å½¢,åç§»2ğœ‹/3å¼§åº¦
      fire_two.style.left = Math.sin(fire2 + 2 * Math.PI / 3) * 200 + 'px'
      fire_two.style.top = Math.cos(fire2 + 2 * Math.PI / 3) * 200 + 'px'

      fire_tree.style.left = Math.sin(fire3 + 4 * Math.PI / 3) * 200 + 'px'
      fire_tree.style.top = Math.cos(fire3 + 4 * Math.PI / 3) * 200 + 'px'

      requestAnimationFrame(animate)
    })
  </script>
</body>
</html>